import{d as i,j as l}from"./chunk-MBABEOSW.js";import{P as n,V as s,e as o}from"./chunk-S6VIYWOS.js";var d=(()=>{class r{constructor(){this.gameState=s(l),this.DialogData=void 0}ShowPersonDetailsDialog(a){return o(this,null,function*(){return yield new Promise((t,e)=>{this.DialogData={type:i.PersonDetails,data:{person:a},res:t,rej:e}})})}ShowCharacterDetailsDialog(a){return o(this,null,function*(){return yield new Promise((t,e)=>{this.DialogData={type:i.CharacterDetails,data:{character:a},res:t,rej:e}})})}ShowPeopleSelectionDialog(a,t){return o(this,null,function*(){return yield new Promise((e,D)=>{this.DialogData={type:i.PeopleSelection,data:{title:a,numberOfPeople:t,people:this.gameState.People.map(h=>h.cloneWithoutEffectState())},res:e,rej:D}})})}ShowConfirmDialog(a){return o(this,null,function*(){return yield new Promise((t,e)=>{this.DialogData={type:i.Confirm,data:{title:a},res:t,rej:e}})})}ShowChangesDialog(a){return o(this,null,function*(){return yield new Promise((t,e)=>{this.DialogData={type:i.Changes,data:a,res:t,rej:e}})})}ConfirmDialog(a=void 0){this.DialogData?.type===i.PeopleSelection?this.DialogData?.res((a??[]).map(t=>this.gameState.People.find(e=>e.Id===t.Id))):this.DialogData?.type===i.Confirm?this.DialogData.res(!!a):this.DialogData?.res(),this.DialogData=void 0}RejectDialog(){this.DialogData?.rej(),this.DialogData=void 0}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{d as a};
/**i18n:4d237bd4a7924989e9147be91c316aeb32cdd902c29b123d66e18fd31eb96ec1*/
