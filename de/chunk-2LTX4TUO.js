import{d as o,j as D}from"./chunk-MBABEOSW.js";import{P as r,V as l,e as s}from"./chunk-S6VIYWOS.js";var y=(()=>{class n{constructor(){this.gameState=l(D),this.DialogData=void 0}ShowPersonDetailsDialog(e){return s(this,null,function*(){return yield new Promise((t,a)=>{this.DialogData={type:o.PersonDetails,data:{person:e},res:t,rej:a}})})}ShowCharacterDetailsDialog(e){return s(this,null,function*(){return yield new Promise((t,a)=>{this.DialogData={type:o.CharacterDetails,data:{character:e},res:t,rej:a}})})}ShowPeopleSelectionDialog(e,t,a){return s(this,null,function*(){let c=this.gameState.People.map(i=>i.cloneWithoutEffectState()),h=(a??[]).map(i=>i.Id),g=c.map(i=>(i.IsProtected=h.includes(i.Id),i));return yield new Promise((i,p)=>{this.DialogData={type:o.PeopleSelection,data:{title:e,numberOfPeople:t,people:g},res:i,rej:p}})})}ShowConfirmDialog(e){return s(this,null,function*(){return yield new Promise((t,a)=>{this.DialogData={type:o.Confirm,data:{title:e},res:t,rej:a}})})}ShowChangesDialog(e){return s(this,null,function*(){return yield new Promise((t,a)=>{this.DialogData={type:o.Changes,data:e,res:t,rej:a}})})}ConfirmDialog(e=void 0){this.DialogData?.type===o.PeopleSelection?this.DialogData?.res((e??[]).map(t=>this.gameState.People.find(a=>a.Id===t.Id))):this.DialogData?.type===o.Confirm?this.DialogData.res(!!e):this.DialogData?.res(),this.DialogData=void 0}RejectDialog(){this.DialogData?.rej(),this.DialogData=void 0}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{y as a};
/**i18n:4d237bd4a7924989e9147be91c316aeb32cdd902c29b123d66e18fd31eb96ec1*/
